{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nimport iziToast from 'izitoast';\nimport \"izitoast/dist/css/iziToast.min.css\"\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\n\nconst API_KEY = \"50173173-c7ebe87f992e3ee35ae0a4cd8\";\n\nexport function getImagesByQuery(query) {\n  return axios(\"\", {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: \"photo\",\n      orientation: \"horizontal\",\n      safesearch: \"true\",\n    }\n  })\n    .then(res => res.data)\n    .catch(error => {\n      console.log(error);\n      iziToast.error({\n        title: 'Error',\n      });\n    });\n  \n  // const BASE_URL = \"https://pixabay.com/api/\";\n  // const API_KEY = \"50173173-c7ebe87f992e3ee35ae0a4cd8\";\n\n  // const params = new URLSearchParams({\n  //   key: API_KEY,\n  //   q: query,\n  //   image_type: \"photo\",\n  //   orientation: \"horizontal\",\n  //   safesearch: \"true\",\n  // });\n\n  // return fetch(`${BASE_URL}?${params}`)\n  //   .then((res) => {\n  //     if (!res.ok) {\n  //       throw new Error('Wrong request')\n  //     }\n  //     return res.json();\n  //   })\n  //   .catch((error) => {\n  //     console.log(error);\n  //     iziToast.error({\n  //       title: 'Error',\n  //       message: 'Error',\n  //   });\n  //   });  \n}","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryEl = document.querySelector('.gallery');\n\nconst simpleLightbox = new SimpleLightbox(\n  '.gallery .gallery-link', {captionsData: 'alt'}\n);\n\nexport function createGallery(images) {\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => \n        `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\"><img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n          <p>Likes <span>${likes}</span></p>\n          <p>Views <span>${views}</span></p>\n          <p>Comments <span>${comments}</span></p>\n          <p>Downloads <span>${downloads}</span></p>\n          </a>\n        </li>`\n  ).join(\"\");\n  galleryEl.innerHTML = markup;\n  simpleLightbox.refresh();\n}\n\nexport function clearGallery() {\n  galleryEl.innerHTML = \"\";\n}\n\nexport function showLoader(element) {\n  element.classList.remove('hidden');\n}\n\nexport function hideLoader(element) {\n  element.classList.add('hidden');\n}\n\n","import iziToast from 'izitoast';\nimport \"izitoast/dist/css/iziToast.min.css\"\n\nimport {getImagesByQuery} from './js/pixabay-api.js';\nimport {clearGallery, createGallery, hideLoader, showLoader} from './js/render-functions.js';\n\nconst formEl = document.querySelector('.form');\nconst searchText = formEl.querySelector('input[name=\"search-text]');\nconst submitBtn = formEl.querySelector('button');\nconst loader = document.querySelector('.loader');\n\nformEl.addEventListener('submit', fetchOnFormSubmit);\n\nfunction fetchOnFormSubmit(e) {\n    e.preventDefault();\n    clearGallery();\n    const searchItems = e.target.elements['search-text'].value.trim();\n    if (searchItems === \"\") {\n        iziToast.warning({\n            title: 'Caution',\n            message: 'You forgot to type what you search',\n        });\n        return\n    }\n    showLoader(loader);\n    getImagesByQuery(searchItems)\n        .then((res) => {\n            if (res.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n                return\n            }\n            createGallery(res.hits)\n        })\n        .catch(error => {\n            console.log(error)\n            iziToast.error({\n                title: 'Error',\n                message: 'Illegal operation',\n            });\n        })\n        .finally(() => {\n            hideLoader(loader);\n            formEl.reset();\n        });\n}\n"],"names":["axios","API_KEY","getImagesByQuery","query","res","error","iziToast","galleryEl","simpleLightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","element","hideLoader","formEl","loader","fetchOnFormSubmit","e","searchItems"],"mappings":"+vBAIAA,EAAM,SAAS,QAAU,2BAEzB,MAAMC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACtC,OAAOH,EAAM,GAAI,CACf,OAAQ,CACN,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACL,CAAG,EACE,KAAKC,GAAOA,EAAI,IAAI,EACpB,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBC,EAAS,MAAM,CACb,MAAO,OACf,CAAO,CACP,CAAK,CA2BL,CC/CA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAE7CC,EAAiB,IAAIC,EACzB,yBAA0B,CAAC,aAAc,KAAK,CAChD,EAEO,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAC/F;AAAA,0CACkCL,CAAa,qCAAqCD,CAAY,UAAUE,CAAI;AAAA,2BAC3FC,CAAK;AAAA,2BACLC,CAAK;AAAA,8BACFC,CAAQ;AAAA,+BACPC,CAAS;AAAA;AAAA,cAGxC,EAAI,KAAK,EAAE,EACTZ,EAAU,UAAYK,EACtBJ,EAAe,QAAO,CACxB,CAEO,SAASY,GAAe,CAC7Bb,EAAU,UAAY,EACxB,CAEO,SAASc,EAAWC,EAAS,CAClCA,EAAQ,UAAU,OAAO,QAAQ,CACnC,CAEO,SAASC,EAAWD,EAAS,CAClCA,EAAQ,UAAU,IAAI,QAAQ,CAChC,CC7BA,MAAME,EAAS,SAAS,cAAc,OAAO,EAC1BA,EAAO,cAAc,0BAA0B,EAChDA,EAAO,cAAc,QAAQ,EAC/C,MAAMC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAO,iBAAiB,SAAUE,CAAiB,EAEnD,SAASA,EAAkBC,EAAG,CAC1BA,EAAE,eAAc,EAChBP,IACA,MAAMQ,EAAcD,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OAC3D,GAAIC,IAAgB,GAAI,CACpBtB,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,oCACrB,CAAS,EACD,MACH,CACDe,EAAWI,CAAM,EACjBvB,EAAiB0B,CAAW,EACvB,KAAMxB,GAAQ,CACX,GAAIA,EAAI,KAAK,SAAW,EAAG,CACvBE,EAAS,MAAM,CACX,QAAS,0EAC7B,CAAiB,EACD,MACH,CACDI,EAAcN,EAAI,IAAI,CAClC,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,IAAIA,CAAK,EACjBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mBACzB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXiB,EAAWE,CAAM,EACjBD,EAAO,MAAK,CACxB,CAAS,CACT"}